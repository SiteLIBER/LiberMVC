@model LiberMvc.PaginatedList<Postagem>
@using LiberMvc.Models

@{ var route = Url.RequestContext.RouteData.Values; }

@{ foreach (var art in Model) { 
<div class="article_resume">
	<h2>
		@Html.ActionLink(art.Titulo, "Details", "Postagem", new { id = art.PostagemID, title = art.Titulo }, null)
	</h2>
	<p class="general_informations">
		<span class="date">@art.PublicadoEm.ToShortDateString()</span>
		@Helper.NomeAutor(art)
	</p>
	<p class="abstract">
		@art.Chamada
	</p>
</div>
 } }

<div class="actions">
@if (Usuario.Logado.isEditor || Usuario.Logado.isAdmin) { 
	@Html.ActionLink("Criar novo", "Create", null, new { @class = "button" })
 } 

@if (Usuario.Logado.isAdmin) { 
	@Html.ActionLink("Listar para edição", "Table", null, new { @class = "button" })
 } 

@if (Model.HasPreviousPage) { 
	@Html.ActionLink("<< Anterior", route["action"].ToString(), new { id = route["id"], page = (Model.PageIndex - 1) }, new { @class = "button" })
 } 

@if (Model.HasNextPage)	{ 
	@Html.ActionLink("Próxima >>", route["action"].ToString(), new { id = route["id"], page = (Model.PageIndex + 1) }, new { @class = "button" })
 } 

	<br class="clear" />
</div>

